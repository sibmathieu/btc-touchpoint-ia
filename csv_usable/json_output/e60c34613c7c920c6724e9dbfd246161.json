{
  "id": "e60c34613c7c920c6724e9dbfd246161",
  "text": "\n\n\n\n\n\n\n\n\n\n\n\n\n√âchanges sous-marin entre le r√©seau Bitcoin et Lightning\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nasi0‚Äôs Bitcoin GuidesSubscribeSign inShare this post√âchanges sous-marin entre le r√©seau Bitcoin et Lightningasi0.substack.comCopy linkFacebookEmailNoteOtherDiscover more from asi0‚Äôs Bitcoin GuidesBitcoin-focused contentSubscribeContinue readingSign in  √âchanges sous-marin entre le r√©seau Bitcoin et LightningComment transf√©rer des sats entre vos canaux LN et vos portefeuilles on-chain ? asi0Feb 19, 20231Share this post√âchanges sous-marin entre le r√©seau Bitcoin et Lightningasi0.substack.comCopy linkFacebookEmailNoteOtherShareüá¨üáß English | üá™üá∏ Espa√±olAujourd'hui, nous avons de plus en plus de n≈ìuds Lightning. Cependant la plupart de leur op√©rateurs ne savent toujours pas comment les utiliser √† leur plein potentiel.Je vais donc tenter d'expliquer dans ce guide, comment vous pouvez utiliser les √©changes sous-marin (aka submarine swaps) entre le protocole Bitcoin on-chain et le r√©seau Lightning.Vous pouvez retrouver une bonne explication (en EN) de ce que sont les submarine swaps dans cet article. Donc, si vous le pouvez, lisez d'abord cet article, cela vous permettra d‚Äôavoir une base de connaissances sur ce sujet. En gros, avec les submarines swaps nous pouvons d√©placer de la liquidit√© depuis ou vers un portefeuille on-chain vers ou depuis un n≈ìud/wallet LN. C‚Äôest un outil tr√®s pratique pour g√©rer au mieux la liquidit√© dans ces canaux LN, mais cela peut √™tre √©galement d√©tourn√© comme m√©thode de ‚Äúcoinjoin‚Äù ‚Äî au sens o√π cela peut permettre de perdre la trace de vos coins qui ont √©t√© KYC (reli√© √† votre identit√©).SC√âNARIO ACas d‚Äôusage : Vous avez un n≈ìud LN et vous avez besoin de d√©placer de la liquidit√© depuis ou vers vos canaux LN. Prenons l'exemple d'un commer√ßant, avec une boutique en ligne ou physique, qui accepte les paiements via LN.Dans ce cas de figure, le commer√ßant a plus de paiements entrants que sortant. Ainsi √† la longue ses canaux LN se rempliront. Il devra donc les ‚Äúvider‚Äù, afin de disposer de nouveau de la liquidit√© pour les futurs paiements de ces clients. Cela signifie qu‚Äôil devra d√©placer hors de ses canaux LN les sats re√ßus vers un portefeuille on-chain. Cette op√©ration est appel√©e ‚ÄúLOOP OUT‚Äù.De mani√®re sym√©trique, le ‚ÄúLOOP IN‚Äù est le m√™me processus, mais dans le sens inverse. Cela permet, depuis n'importe lequel de vos portefeuilles on-chain d‚Äôajouter de la liqudit√© vers votre n≈ìud/portefeuille LN.Pour ces deux processus, nous disposons aujourd‚Äôhui de quelques services et logiciels simples et peu co√ªteux :1 - RTL et/ou ThunderHub Ces deux applications de gestionnaires de noeud ont int√©gr√© la fonction loop out, qui utilise en coulisse les services de Boltz et Loop.Loop out en utilisant Boltz via ThunderHubDans ThunderHub, vous pouvez choisir √† partir de quel canal vous voulez loop out ou vous pouvez choisir de laisser ThunderHub calculer la meilleure possibilit√©. De plus, vous pouvez d√©cider de donner soit une adresse du portfeuille on-chain du n≈ìud ou soit une adresse de tout autre portefeuille on-chain.Page pour le loop out avec Ride The Lightning (ici vous pouvez choisir Boltz ou Loop)RTL fonctionne parfois mieux, surtout quand il est question de montants plus importants. Avec RTL, vous pouvez aussi choisir sp√©cifiquement le canal sur lequel vous souhaitez effectuer le loop out, c‚Äôest-√†-dire choisir un canal o√π il y a trop de liquidit√© de votre c√¥t√©. Une fois que vous avez d√©fini les termes du loop out, il faudra attendre un certain temps pour que la transaction soit approuv√© on-chain et que les fonds soient bien √† l‚Äôadresse on-chain indiqu√©e. Vous pouvez suivre le statut du loop out sur la m√™me page.Remarque : Si vous faites tournez un n≈ìud avec une instance LNbits, vous pouvez √©galement int√©grer l'extension Boltz Swap, pour effectuer des √©changes sous-marins. En tant que commer√ßant qui utilise LNbits pour son activit√©, c'est un outil tr√®s pratique pour ‚Äúvider‚Äù mes canaux vers un de mes portefeuilles on-chain, lorsque mes canaux sont remplis par les paiements de mes clients.2 - CoinOS.io Cette application est un portfeuille web, avec des fonctionnalit√©s on-chain et LN que j‚Äôai d√©j√† d√©crit dans ce guide. Ici, il est suffisant de savoir que CoinOS a int√©gr√© la fonctionalit√© de submarine swap (y compris avec le r√©seau Liquid). Cette fonctionnalit√© peut √™tre utilis√© de mani√®re anonyme en utilisant une adresse mail jetable et un VPN durant la connexion au service.Les √©tapes pour effectuer un swap avec CoinOS sont simples :Ouvrir un compte dans CoinOS (garder les d√©tails de connexion, si vous voulez les r√©utiliser)Cr√©er une facture LN, ou utiliser l'adresse LN fournie par CoinOS, qui sera username@coinos.io. Vous pouvez √©galement utiliser l'adresse LNURL-pay fournie et vous pouvez payer le montant que vous voulez.Payez cette facture LN / adresse LN / adresse LNURL-p depuis votre n≈ìud (l'utilisation de Thunderhub est beaucoup plus facile pour l'adresse LN/ LNURL, vous pouvez √©galement utiliser le portefeuille Zeus connect√© √† votre n≈ìud).Une fois que vous avez les fonds dans CoinOS, effectuez un paiement vers n'importe laquelle de vos adresses BTC on-chain de votre n≈ìud (pratique si vous souhaitez garder ces fonds pour ouvrir de futurs canaux LN) ou de tout autre portefeuille on-chainC'est fait, vous venez de transf√©rer vos fonds LN √† on-chain, avec un minimum de frais, de tracas et en toute confidentialit√©.3 - Boltz | FixedFloat | Deezy | DiamondHands | SubmarineIl s'agit l√† de services de swap en ligne.  En suivant une s√©rie de seulement 3 ou 4 √©tapes, vous pouvez transf√©rer vos sats depuis le LN vers n'importe quelle adresse on-chain (mais aussi dans le sens inverse).Oui, ces services facturent des frais. Mais tout est tr√®s transparent et tous les frais sont affich√©s avant que vous ne cliquiez sur ‚Äúswap‚Äù.Il suffit de payez une invoice LN avec le portefeuille LN de votre n≈ìud, puis indiquez une adresse on-chain o√π vous voulez recevoir. Il ne vous reste plus qu‚Äô√† patienter que le swap s‚Äôeffectue (cela peut prend plus ou moins du temps d√©pendant des frais de transaction on-chain).√©cran d‚Äôun swap LN-BTC ‚Üí BTC du service Boltz4 - Ghetto Swap Il s'agit d'un type de swap disons sp√©cial. Il est recommand√© de ne le faire qu'avec vos pairs de confiance ou vos amis.En pratique, il s'agit d'un transfert de sats de LN vers on-chain, en utilisant la fonction keysend de votre n≈ìud (Thunderhub supporte cette fonctionnalit√©).Un Ghetto Swap consiste √† pousser vos sats vers un de vos pairs, et celui-ci vous remboursera sur l‚Äôadresse on-chain que vous lui avez indiqu√©. Le motif de cette transaction on-chain sera UNIQUEMENT connu de vous deux. La tx keysend n'est pas une facture LN. Si vous avez un canal commun avec votre ami/pair, vous ne paierez pas de frais et ne passerez pas non plus par un autre n≈ìud, c‚Äôest une tx directe. Vous pouvez √©galement le faire si vous n'avez pas de canal commun, mais cela vous co√ªtera plus cher car la transaction passera par plusieurs n≈ìud, comme un paiement LN r√©gulier.J‚Äôai √©crit un guide √† ce sujet pour expliquer les diff√©rentes √©tapes. 5 - BlueWallet LNDHUBSi sur votre n≈ìud (Umbrel, MyNode, RaspiBlitz, Embassy), vous avez d√©j√† install√© et configur√© BlueWallet LNDHUB, cette m√©thode peut vous √™tre utile pour obtenir rapidement et facilement de la liquidit√© entrante √† l‚Äôaide d‚Äôun portefeuille externe on-chain.√âtapes √† suivre :Connectez l'application mobile BlueWallet (BW) √† votre n≈ìud via BW LNDHUB.Cr√©ez un nouveau portefeuille LN (il sera cr√©√© sur votre n≈ìud, pas sur les serveurs de BW).Ce portefeuille LN aura un solde nul, mais utilisera la liquidit√© de votre n≈ìud.Faites un backup de ce portfeuille ! Allez dans les d√©tails du portefeuille et s√©lectionnez ‚Äúexporter la sauvegarde‚Äù. √áa sera sour la forme d‚Äôune URL qui pointe vers votre portefeuille LNDHUB.Dans BW, ouvrez ce portefeuille LN et cliquez sur le bouton ‚Äúrefill - from external source‚Äù. Cela fera appara√Ætre un code QR avec une adresse on-chain de votre n≈ìud.Une fois que vous payez √† cette adresse (n'utilisez pas de petits montants <100k sats), votre portefeuille LN aura un solde avec ces sats et votre n≈ìud LN aura √©galement une liquidit√© accrue de ce montant.Pour en savoir plus sur la fa√ßon d'utiliser Bluewallet LNDHUB avec un noeud Umbrel, cliquez ici pour un guide d√©di√©. SC√âNARIO BCas : Vous √™tes un utilisateur r√©gulier, qui veut seulement plus de confidentialit√© et gagner une annonymat prospective (ie. perdre la trace de quelques sats achet√©s via un √©change KYC ou re√ßu d'une source quelconque et ne voulez pas √™tre li√© de quelque fa√ßon que ce soit avec elle).Dans ce cas d‚Äôusage, il n'est pas n√©cessaire d'avoir votre propre n≈ìud LN car vous pouvez aussi le faire √† partir d‚Äôun portefeuille LN.Pour cela, vous avez plusieurs m√©thodes √† disposition :1 - RoboSats - √âchange anonyme via Tor et LNUtilisez le navigateur Tor pour vour rendre sur la page de RoboSats ou t√©l√©charger l‚Äôapp android via l‚ÄôapkG√©n√©rez une identit√© anonyme (sauvegardez la cl√© si vous voulez la r√©utiliser)Faites une offre ou accepter une offre d√©j√† existanteSp√©cifiez o√π vous souhaitez recevoir les sats (onchain ou LN) ‚Äî Voici une d√©mo de RoboSatsC'est fait ! Vous venez de recevoir des sats non-KYC sur le portefeuille de votre choix LN ou on-chain ‚Äî vous avez ici une liste non-exhautive de portefeuilles LN.2 - √âchanges KYC on-chain vers les portefeuilles / canaux LNRemarque : Vous devriez envisager de ne pas utiliser de plateformes d‚Äô√©change KYC et de plut√¥t utiliser ceux proposer sur KYCnot.me.Le cas d‚Äôusage est le suivant : vous avez achet√© sur un √©change KYC qui ne supporte pas le retrait via LN alors que vous souhaitez approvisionner vos portefeuilles LN. Le retrait ne peut que s‚Äôeffectuer vers un portefeuille on-chain ce qui peut √™tre p√©nible car beaucoup de plateformes d‚Äô√©change vont retarder arbitrairement le retrait, notamment pour nous emp√™cher d‚Äôutiliser directement un service de swap ou simplement √† cause de mesures KYC draconiennes.Vous aurez donc besoin d'un ‚Äúportefeuille cache‚Äù comme d√©crit dans cet autre guide que j'ai √©crit, avec lequel vous ferez le contr√¥le des pi√®ces, effectuerez vos swaps LN <=> BTC, organiserez par cat√©gorie, etc‚Ä¶ Ainsi, vous retirez de l'√©change vers ce portefeuille cache et de l√† vous effectuerez, en plusieurs fois, vos swaps BTC on-chain ‚Üí BTC-LN, en utilisant les services de swaps d'√©change comme boltz.exchange, zigzag.io, fixedfloat.io ou coinos.io (pour plus d‚Äôanonymit√© utilis√© ces services via le navigateur Tor). Par contre, si la plateforme d‚Äô√©change supporte les retraits on-chain instantan√©s, c'est parfait, vous pouvez sauter l‚Äô√©tape interm√©diaire avec le portefeuille cache et vous retirez directement, en plusieurs fois, vers les services de swaps et de l√† vers votre portefeuille LN de votre choix.Pour ce genre de cas d‚Äôusage, je vous recommande d'utiliser un portefeuille LN autre que celui de votre n≈ìud public ‚Äî comme je l'ai d√©crit dans cet autre guide concernant la gestion de la liquidit√© entre vos n≈ìuds. Blixt, OpenBitcoin Wallet (OBW), Breeze, et Phoenix sont de bons choix pour cela.Depuis ce portefeuille LN, vous pouvez √©galement envoyer des fonds vers votre propre n≈ìud (si vous avez besoin de plus de liquidit√©s sortantes) ou vers tout autre ‚Äúportefeuille HODL‚Äù on-chain (en utilisant un service de swap).3 - Noeud LN via Electrum sur PC Il s'agit d'un portefeuille LN assez puissant avec des swaps int√©gr√©s au logiciel.√âtapes √† suivre pour la mise en place :T√©l√©chargez et installez sur votre PC l'application Electrum wallet. Elle est disponible pour toutes les plateformes.Cr√©ez un portefeuille segwit natif (bech32) pour √™tre enti√®rement compatible avec le LN.Faites un backup de toutes les informations (phrase mn√©monique, mot de passe, etc‚Ä¶) sur un papier mis en s√©curit√© ou dans votre gestionnaire de mots de passe.Allez dans les options du portefeuille et activez ‚ÄúLightning‚Äù (Il n‚Äôest pas activ√© par d√©faut)Vous pouvez utiliser les canaux trampolines (g√©r√©s par ACINQ ou d'autres serveurs) ou vos propres canaux (priv√©s) avec tout n≈ìud LN comme vous souhaitez.Vous devez d'abord ouvrir quelques canaux. Faites √©galement une sauvegarde du fichier SBC.Pour faire de la ‚Äúplace‚Äù dans ces canaux, vous devrez d√©placer une partie de sats, en les envoyant vers un autre de vos portefeuilles LN. Si vous ouvrez un canal avec votre propre n≈ìud, il suffit de les pousser en effectuant un keysend vers votre n≈ìud ou une simple invoice LN √† vous-m√™me.Vous √™tes donc pr√™t √† recevoir de nouveaux sats dans ces canaux ‚ÄúElectrum LN‚Äù.Lorsque vous recevez dans ce portefeuille Electrum, vous pouvez faire un swap  LN ‚Üí on-chain, directement depuis le logiciel. Les fonds seront d√©plac√©s vers l'une de vos adresses du portefeuille ‚ÄúElectrum on-chain‚Äù.Vous avez ici une d√©monstration de l'utilisation d'Electrum avec Lightning.√Ä RETENIR Via ur un canal LN de, disons, 1M sats, vous pouvez faire passer √† terme 21 BTC ou plus, dans les deux sens (tant que la liquidit√© est suffisante). Lorsque vous fermez ce canal, seul l‚ÄôUTXO de 1M sats sera ‚Äúvisibles‚Äù sur la blockchain qui n‚Äôest autre que les 1M sats qui ont √©t√© ‚Äúutilis√©s‚Äù dans la transaction d‚Äôouverture de canal. Tous les autres 20,09 BTC ne sont pas r√©f√©renc√©. Et si vous vous y prenez bien, aucune trace de ces mouvements ne pourront √™tre relier √† vous.Vous pouvez √©galement utiliser des fournisseurs de liquidit√© entrante, qui ouvriront vers vos noeuds des canaux avec beaucoup de liquidit√© disponible et vous serez pr√™t √† recevoir des sats. Cela signifie que l'UTXO utilis√© pour ouvrir le canal n'est pas le v√¥tre. C'est un autre aspect qui augmente votre confidentialit√©.Le fait que votre paiement fasse plusieurs ‚Äúhops‚Äù via plusieurs noeuds augmente √©galement l'anonymat.Utilisez MPP (multi-part payment) si vous le pouvez et si votre application de portefeuille le supporte, cela permet d‚Äôaugmenter les chances de r√©ussite du paiement et votre anonymat.Si vous voulez un n≈ìud LN rapidement, pour une question d'anonymat, ne vous emb√™tez pas √† d√©ployer un n≈ìud complet sur un pc ou un raspberry Pi, surtout si c‚Äôest juste pour acheter quelques sats. Pour cela, je recommande d'utiliser Blixt Wallet (c'est un outil tr√®s puissant, si vous savez l'utiliser), OBW, ou Electrum. Avec ce genre de portefeuilles, vous pouvez g√©rer facilement les canaux et la liquidit√©. De plus, vous pouvez √† tout moment les vider et d√©marrer une nouvelle instance facilement.L'avenir des transactions est sur le r√©seau Lightning. Bient√¥t, les txs on-chain ne seront plus utilis√©es que pour ouvrir/fermer les canaux LN. Alors pr√©parez-vous d√®s maintenant, commencez √† apprendre √† utiliser tous les outils relatifs au r√©seau Lightning, les portefeuilles LN, mais faites aussi tourner votre propre n≈ìud (m√™me mobile), construisez votre propre r√©seau de pairs, ainsi que votre propre liquidit√© sur LN. Un jour viendra o√π il sera TRES CO√õTEUX DE LE FAIRE ! Vous avez √©t√© pr√©venus.QUE ‚ÇøITCOIN SOIT AVEC TOI !Si tu appr√©cies le travail de DarthCoin, tu peux lui envoyer quelques sats via le LN :en utilisant ses adresses LN darthcoin@getalby.com ou darthcoin@stacker.newsou simplement en scannant ce QR code avec ton portefeuille LNLNURL1DP68GURN8GHJ7MR9VAJKUEPWD3HXY6T5WVHXXMMD9AKXUATJD3CZ7D2TG35HGKQAF5LZHSi tu appr√©cies mon travail (de traduction), tu peux m‚Äôenvoyer quelques sats via le LN :en utilisant ma page alby si tu veux me laisser un messageen utilisant mon adresse LN : asi0@getalby.comou simplement en scannant ce QR code avec ton portefeuille LNLNURL1DP68GURN8GHJ7EM9W3SKCCNE9E3K7MF0D3H82UNVWQHKZUMFXQY33CD51Share this post√âchanges sous-marin entre le r√©seau Bitcoin et Lightningasi0.substack.comCopy linkFacebookEmailNoteOtherShareCommentsTopNewCommunityNo postsReady for more?Subscribe¬© 2023 asi0Privacy ‚àô Terms ‚àô Collection notice Start WritingGet the appSubstack is the home for great writing\n\n\n\n\n\n\n\n\n\n\n\nOur use of cookies\n  We use necessary cookies to make our site work. We also set performance and functionality cookies that help us make\n  improvements by measuring traffic on our site. For more detailed information about the cookies we use, please see our\n  privacy policy.\n  ✖\n\n\n\n\n\n        This site requires JavaScript to run correctly. Please turn on JavaScript or unblock scripts\n    \n\n\n\n",
  "title": "faire tourner son noeud",
  "subtitle": "utiliser lightning sur son propre noeud",
  "description": "asi0 (2023). echanges sous-marin entre le reseau bitcoin et lightning",
  "link": "https://asi0.substack.com/p/echanges-sous-marin-entre-le-reseau",
  "quadrant": " comment j'utilise bitcoin"
}